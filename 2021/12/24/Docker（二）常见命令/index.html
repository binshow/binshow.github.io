<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Docker（二）常见命令 - 漫漫转码路</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="漫漫转码路"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="漫漫转码路"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="演示常见命令"><meta property="og:type" content="blog"><meta property="og:title" content="Docker（二）常见命令"><meta property="og:url" content="http://example.com/2021/12/24/Docker%EF%BC%88%E4%BA%8C%EF%BC%89%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4/"><meta property="og:site_name" content="漫漫转码路"><meta property="og:description" content="演示常见命令"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://raw.githubusercontent.com/binshow/img/master/20211224161628.png"><meta property="article:published_time" content="2021-12-24T07:52:50.000Z"><meta property="article:modified_time" content="2021-12-24T09:10:39.120Z"><meta property="article:author" content="binshow"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="https://raw.githubusercontent.com/binshow/img/master/20211224161628.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://example.com/2021/12/24/Docker%EF%BC%88%E4%BA%8C%EF%BC%89%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4/"},"headline":"Docker（二）常见命令","image":["https://raw.githubusercontent.com/binshow/img/master/20211224161628.png"],"datePublished":"2021-12-24T07:52:50.000Z","dateModified":"2021-12-24T09:10:39.120Z","author":{"@type":"Person","name":"binshow"},"description":"演示常见命令"}</script><link rel="canonical" href="http://example.com/2021/12/24/Docker%EF%BC%88%E4%BA%8C%EF%BC%89%E5%B8%B8%E8%A7%81%E5%91%BD%E4%BB%A4/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/atom-one-light.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css"><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/pace/1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.4.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="漫漫转码路" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2021-12-24T07:52:50.000Z" title="2021/12/24 下午3:52:50">2021-12-24</time>发表</span><span class="level-item"><time dateTime="2021-12-24T09:10:39.120Z" title="2021/12/24 下午5:10:39">2021-12-24</time>更新</span><span class="level-item">20 分钟读完 (大约3068个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">Docker（二）常见命令</h1><div class="content"><p>演示常见命令</p>
<span id="more"></span>





<h1 id="容器相关命令"><a href="#容器相关命令" class="headerlink" title="容器相关命令"></a>容器相关命令</h1><ol>
<li><strong>通过镜像运行一个容器 <code>docker run nginx</code></strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">$ docker images</span><br><span class="line">REPOSITORY               TAG       IMAGE ID       CREATED       SIZE</span><br><span class="line">nginx                    latest    fc16ec0c2d91   3 days ago    134MB</span><br><span class="line">docker/getting-started   latest    720f449e5af2   3 weeks ago   27.2MB</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:14:09]</span></span><br><span class="line">$ docker run nginx</span><br><span class="line">/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration</span><br><span class="line">/docker-entrypoint.sh: Looking <span class="keyword">for</span> shell scripts <span class="keyword">in</span> /docker-entrypoint.d/</span><br><span class="line">/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh</span><br><span class="line">10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf</span><br><span class="line">10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 <span class="keyword">in</span> /etc/nginx/conf.d/default.conf</span><br><span class="line">/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh</span><br><span class="line">/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh</span><br><span class="line">/docker-entrypoint.sh: Configuration complete; ready <span class="keyword">for</span> start up</span><br><span class="line">2021/12/24 08:14:17 [notice] 1<span class="comment">#1: using the &quot;epoll&quot; event method</span></span><br><span class="line">2021/12/24 08:14:17 [notice] 1<span class="comment">#1: nginx/1.21.4</span></span><br><span class="line">2021/12/24 08:14:17 [notice] 1<span class="comment">#1: built by gcc 10.2.1 20210110 (Debian 10.2.1-6)</span></span><br><span class="line">2021/12/24 08:14:17 [notice] 1<span class="comment">#1: OS: Linux 5.10.76-linuxkit</span></span><br><span class="line">2021/12/24 08:14:17 [notice] 1<span class="comment">#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576</span></span><br><span class="line">2021/12/24 08:14:17 [notice] 1<span class="comment">#1: start worker processes</span></span><br><span class="line">2021/12/24 08:14:17 [notice] 1<span class="comment">#1: start worker process 32</span></span><br><span class="line">2021/12/24 08:14:17 [notice] 1<span class="comment">#1: start worker process 33</span></span><br><span class="line">2021/12/24 08:14:17 [notice] 1<span class="comment">#1: start worker process 34</span></span><br><span class="line">2021/12/24 08:14:17 [notice] 1<span class="comment">#1: start worker process 35</span></span><br><span class="line">2021/12/24 08:14:20 [notice] 1<span class="comment">#1: signal 28 (SIGWINCH) received</span></span><br><span class="line">2021/12/24 08:14:20 [notice] 1<span class="comment">#1: signal 28 (SIGWINCH) received</span></span><br><span class="line">2021/12/24 08:14:20 [notice] 1<span class="comment">#1: signal 28 (SIGWINCH) received</span></span><br><span class="line">2021/12/24 08:14:20 [notice] 1<span class="comment">#1: signal 28 (SIGWINCH) received</span></span><br><span class="line">2021/12/24 08:14:20 [notice] 1<span class="comment">#1: signal 28 (SIGWINCH) received</span></span><br><span class="line">2021/12/24 08:14:20 [notice] 1<span class="comment">#1: signal 28 (SIGWINCH) received</span></span><br><span class="line">2021/12/24 08:14:21 [notice] 1<span class="comment">#1: signal 28 (SIGWINCH) received</span></span><br><span class="line">2021/12/24 08:14:21 [notice] 1<span class="comment">#1: signal 28 (SIGWINCH) received</span></span><br></pre></td></tr></table></figure>



<ol start="2">
<li><strong>通过端口映射来实现宿主机和docker容器的端口映射：<code>docker run -p 8081:80 nginx</code></strong></li>
</ol>
<p>将docker中运行的nginx的80端口隐射到外部宿主机的8081端口来</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:15:46] C:125</span></span><br><span class="line">$ docker run -p 8081:80 nginx</span><br><span class="line">/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration</span><br><span class="line">/docker-entrypoint.sh: Looking <span class="keyword">for</span> shell scripts <span class="keyword">in</span> /docker-entrypoint.d/</span><br><span class="line">/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh</span><br><span class="line">10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf</span><br><span class="line">10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 <span class="keyword">in</span> /etc/nginx/conf.d/default.conf</span><br><span class="line">/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh</span><br><span class="line">/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh</span><br><span class="line">/docker-entrypoint.sh: Configuration complete; ready <span class="keyword">for</span> start up</span><br><span class="line">2021/12/24 08:15:55 [notice] 1<span class="comment">#1: using the &quot;epoll&quot; event method</span></span><br><span class="line">2021/12/24 08:15:55 [notice] 1<span class="comment">#1: nginx/1.21.4</span></span><br><span class="line">2021/12/24 08:15:55 [notice] 1<span class="comment">#1: built by gcc 10.2.1 20210110 (Debian 10.2.1-6)</span></span><br><span class="line">2021/12/24 08:15:55 [notice] 1<span class="comment">#1: OS: Linux 5.10.76-linuxkit</span></span><br><span class="line">2021/12/24 08:15:55 [notice] 1<span class="comment">#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576</span></span><br><span class="line">2021/12/24 08:15:55 [notice] 1<span class="comment">#1: start worker processes</span></span><br><span class="line">2021/12/24 08:15:55 [notice] 1<span class="comment">#1: start worker process 32</span></span><br><span class="line">2021/12/24 08:15:55 [notice] 1<span class="comment">#1: start worker process 33</span></span><br><span class="line">2021/12/24 08:15:55 [notice] 1<span class="comment">#1: start worker process 34</span></span><br><span class="line">2021/12/24 08:15:55 [notice] 1<span class="comment">#1: start worker process 35</span></span><br><span class="line">172.17.0.1 - - [24/Dec/2021:08:16:13 +0000] <span class="string">&quot;GET / HTTP/1.1&quot;</span> 200 615 <span class="string">&quot;-&quot;</span> <span class="string">&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36&quot;</span> <span class="string">&quot;-&quot;</span></span><br><span class="line">2021/12/24 08:16:13 [error] 33<span class="comment">#33: *2 open() &quot;/usr/share/nginx/html/favicon.ico&quot; failed (2: No such file or directory), client: 172.17.0.1, server: localhost, request: &quot;GET /favicon.ico HTTP/1.1&quot;, host: &quot;localhost:8081&quot;, referrer: &quot;http://localhost:8081/&quot;</span></span><br><span class="line">172.17.0.1 - - [24/Dec/2021:08:16:13 +0000] <span class="string">&quot;GET /favicon.ico HTTP/1.1&quot;</span> 404 555 <span class="string">&quot;http://localhost:8081/&quot;</span> <span class="string">&quot;Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36&quot;</span> <span class="string">&quot;-&quot;</span></span><br></pre></td></tr></table></figure>

<p><img src="https://raw.githubusercontent.com/binshow/img/master/20211224161628.png" alt="20211224161628"></p>
<ol start="3">
<li><strong>启动容器，端口映射且保持后台启动:<code>docker run -d -p 8081:80 nginx</code></strong></li>
</ol>
<p>-d 就是表示后台启动</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:18:04] C:130</span></span><br><span class="line">$ docker run -d -p 8081:80 nginx</span><br><span class="line">c2a7b8db7cecfb1d4d2a3770bb0282dd6bd2ab8241016272e97810d9b5f0cb6b</span><br></pre></td></tr></table></figure>



<ol start="4">
<li><strong>查看运行中的容器<code>docker ps</code></strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:18:16]</span></span><br><span class="line">$ docker ps</span><br><span class="line">CONTAINER ID   IMAGE                    COMMAND                  CREATED          STATUS          PORTS                  NAMES</span><br><span class="line">c2a7b8db7cec   nginx                    <span class="string">&quot;/docker-entrypoint.…&quot;</span>   53 seconds ago   Up 52 seconds   0.0.0.0:8081-&gt;80/tcp   stoic_feynman</span><br><span class="line">892eeff537dd   docker/getting-started   <span class="string">&quot;/docker-entrypoint.…&quot;</span>   2 days ago       Up 2 days       0.0.0.0:80-&gt;80/tcp     quirky_almeida</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:19:14]</span></span><br><span class="line">$ docker stop c2a  // 关闭容器</span><br><span class="line">c2a</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<ol start="5">
<li><strong>启动容器，指定名称，映射端口，后台运行</strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:20:20]</span></span><br><span class="line">$ docker run --name nginx_test -d -p 8081:80 nginx</span><br><span class="line">19775ceb3699f6587d95955228921c2a21103af424a705ece7ed48222b4cea98</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:21:20]</span></span><br><span class="line">$ docker ps</span><br><span class="line">CONTAINER ID   IMAGE                    COMMAND                  CREATED         STATUS         PORTS                  NAMES</span><br><span class="line">19775ceb3699   nginx                    <span class="string">&quot;/docker-entrypoint.…&quot;</span>   3 seconds ago   Up 3 seconds   0.0.0.0:8081-&gt;80/tcp   nginx_test</span><br><span class="line">892eeff537dd   docker/getting-started   <span class="string">&quot;/docker-entrypoint.…&quot;</span>   2 days ago      Up 2 days      0.0.0.0:80-&gt;80/tcp     quirky_almeida</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<ol start="6">
<li><strong>删除容器：<code>docker rm 容器id/名称</code> ; 删除正在运行的容器：<code>docker rm -f 容器id/名称</code></strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:24:09]</span></span><br><span class="line">$ docker ps</span><br><span class="line">CONTAINER ID   IMAGE                    COMMAND                  CREATED      STATUS      PORTS                NAMES</span><br><span class="line">892eeff537dd   docker/getting-started   <span class="string">&quot;/docker-entrypoint.…&quot;</span>   2 days ago   Up 2 days   0.0.0.0:80-&gt;80/tcp   quirky_almeida</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:24:11]</span></span><br><span class="line">$ docker ps -a	// 查看所有容器，包含运行和没有运行的</span><br><span class="line">CONTAINER ID   IMAGE                    COMMAND                  CREATED         STATUS                       PORTS                NAMES</span><br><span class="line">19775ceb3699   nginx                    <span class="string">&quot;/docker-entrypoint.…&quot;</span>   2 minutes ago   Exited (0) 32 seconds ago                         nginx_test</span><br><span class="line">c2a7b8db7cec   nginx                    <span class="string">&quot;/docker-entrypoint.…&quot;</span>   6 minutes ago   Exited (0) 3 minutes ago                          stoic_feynman</span><br><span class="line">1406643553b3   nginx                    <span class="string">&quot;/docker-entrypoint.…&quot;</span>   8 minutes ago   Exited (0) 6 minutes ago                          awesome_leakey</span><br><span class="line">55ed2d99bc11   nginx                    <span class="string">&quot;/docker-entrypoint.…&quot;</span>   8 minutes ago   Created                                           intelligent_wiles</span><br><span class="line">ad205589a004   nginx                    <span class="string">&quot;/docker-entrypoint.…&quot;</span>   8 minutes ago   Exited (127) 8 minutes ago                        festive_shannon</span><br><span class="line">362dd6c7ecdb   nginx                    <span class="string">&quot;/docker-entrypoint.…&quot;</span>   9 minutes ago   Exited (0) 8 minutes ago                          charming_ganguly</span><br><span class="line">892eeff537dd   docker/getting-started   <span class="string">&quot;/docker-entrypoint.…&quot;</span>   2 days ago      Up 2 days                    0.0.0.0:80-&gt;80/tcp   quirky_almeida</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:24:19]</span></span><br><span class="line">$ docker rm 1977  // 删除没有运行的容器</span><br><span class="line">1977</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:24:36]</span></span><br><span class="line">$ docker ps -a</span><br><span class="line">CONTAINER ID   IMAGE                    COMMAND                  CREATED          STATUS                       PORTS                NAMES</span><br><span class="line">c2a7b8db7cec   nginx                    <span class="string">&quot;/docker-entrypoint.…&quot;</span>   6 minutes ago    Exited (0) 4 minutes ago                          stoic_feynman</span><br><span class="line">1406643553b3   nginx                    <span class="string">&quot;/docker-entrypoint.…&quot;</span>   8 minutes ago    Exited (0) 6 minutes ago                          awesome_leakey</span><br><span class="line">55ed2d99bc11   nginx                    <span class="string">&quot;/docker-entrypoint.…&quot;</span>   8 minutes ago    Created                                           intelligent_wiles</span><br><span class="line">ad205589a004   nginx                    <span class="string">&quot;/docker-entrypoint.…&quot;</span>   9 minutes ago    Exited (127) 9 minutes ago                        festive_shannon</span><br><span class="line">362dd6c7ecdb   nginx                    <span class="string">&quot;/docker-entrypoint.…&quot;</span>   10 minutes ago   Exited (0) 9 minutes ago                          charming_ganguly</span><br><span class="line">892eeff537dd   docker/getting-started   <span class="string">&quot;/docker-entrypoint.…&quot;</span>   2 days ago       Up 2 days                    0.0.0.0:80-&gt;80/tcp   quirky_almeida</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>删除正在运行的容器：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:26:16]</span></span><br><span class="line">$ docker images</span><br><span class="line">REPOSITORY               TAG       IMAGE ID       CREATED       SIZE</span><br><span class="line">nginx                    latest    fc16ec0c2d91   3 days ago    134MB</span><br><span class="line">docker/getting-started   latest    720f449e5af2   3 weeks ago   27.2MB</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:26:19]</span></span><br><span class="line">$ docker run -d nginx</span><br><span class="line">e74db63161afe3ee3caf5794ef89fea88b03683a69a10dbaa147c64ae2ce72b0</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:26:26]</span></span><br><span class="line">$ docker rm nginx</span><br><span class="line">Error: No such container: nginx</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:26:31] C:1</span></span><br><span class="line">$ docker rm e74</span><br><span class="line">Error response from daemon: You cannot remove a running container e74db63161afe3ee3caf5794ef89fea88b03683a69a10dbaa147c64ae2ce72b0. Stop the container before attempting removal or force remove</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:26:41] C:1</span></span><br><span class="line">$ docker rm -f e74</span><br><span class="line">e74</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:26:48]</span></span><br><span class="line">$ docker ps</span><br><span class="line">CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:26:52]</span></span><br><span class="line">$</span><br></pre></td></tr></table></figure>









<ol start="7">
<li><strong>删除所有容器：<code>docker rm -f $(docker ps -aq)</code> , q表示返回id</strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:24:40]</span></span><br><span class="line">$ docker rm -f $(docker ps -aq)</span><br><span class="line">c2a7b8db7cec</span><br><span class="line">1406643553b3</span><br><span class="line">55ed2d99bc11</span><br><span class="line">ad205589a004</span><br><span class="line">362dd6c7ecdb</span><br><span class="line">892eeff537dd</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:25:48]</span></span><br><span class="line">$ docker ps -a</span><br><span class="line">CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:25:55]</span></span><br><span class="line">$</span><br></pre></td></tr></table></figure>





<ol start="8">
<li><strong>查看容器的服务运行日志：<code>docker logs --tail -n5 9d65</code></strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:27:51]</span></span><br><span class="line">$ docker run -d nginx</span><br><span class="line">9d658e2f6b3aa5ea7a183144b8ba80e20bc168c4428a29c4916c837235f8c5d0</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:27:59]</span></span><br><span class="line">$ docker logs --tail -n5 9d65</span><br><span class="line">/docker-entrypoint.sh: /docker-entrypoint.d/ is not empty, will attempt to perform configuration</span><br><span class="line">/docker-entrypoint.sh: Looking <span class="keyword">for</span> shell scripts <span class="keyword">in</span> /docker-entrypoint.d/</span><br><span class="line">/docker-entrypoint.sh: Launching /docker-entrypoint.d/10-listen-on-ipv6-by-default.sh</span><br><span class="line">10-listen-on-ipv6-by-default.sh: info: Getting the checksum of /etc/nginx/conf.d/default.conf</span><br><span class="line">10-listen-on-ipv6-by-default.sh: info: Enabled listen on IPv6 <span class="keyword">in</span> /etc/nginx/conf.d/default.conf</span><br><span class="line">/docker-entrypoint.sh: Launching /docker-entrypoint.d/20-envsubst-on-templates.sh</span><br><span class="line">/docker-entrypoint.sh: Launching /docker-entrypoint.d/30-tune-worker-processes.sh</span><br><span class="line">/docker-entrypoint.sh: Configuration complete; ready <span class="keyword">for</span> start up</span><br><span class="line">2021/12/24 08:27:59 [notice] 1<span class="comment">#1: using the &quot;epoll&quot; event method</span></span><br><span class="line">2021/12/24 08:27:59 [notice] 1<span class="comment">#1: nginx/1.21.4</span></span><br><span class="line">2021/12/24 08:27:59 [notice] 1<span class="comment">#1: built by gcc 10.2.1 20210110 (Debian 10.2.1-6)</span></span><br><span class="line">2021/12/24 08:27:59 [notice] 1<span class="comment">#1: OS: Linux 5.10.76-linuxkit</span></span><br><span class="line">2021/12/24 08:27:59 [notice] 1<span class="comment">#1: getrlimit(RLIMIT_NOFILE): 1048576:1048576</span></span><br><span class="line">2021/12/24 08:27:59 [notice] 1<span class="comment">#1: start worker processes</span></span><br><span class="line">2021/12/24 08:27:59 [notice] 1<span class="comment">#1: start worker process 33</span></span><br><span class="line">2021/12/24 08:27:59 [notice] 1<span class="comment">#1: start worker process 34</span></span><br><span class="line">2021/12/24 08:27:59 [notice] 1<span class="comment">#1: start worker process 35</span></span><br><span class="line">2021/12/24 08:27:59 [notice] 1<span class="comment">#1: start worker process 36</span></span><br></pre></td></tr></table></figure>



<ol start="9">
<li><strong>查看容器内的进程<code>docker top 9d65</code></strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:28:25]</span></span><br><span class="line">$ docker top 9d65</span><br><span class="line">UID                 PID                 PPID                C                   STIME               TTY                 TIME                CMD</span><br><span class="line">root                3184                3158                0                   08:27               ?                   00:00:00            nginx: master process nginx -g daemon off;</span><br><span class="line">uuidd               3240                3184                0                   08:27               ?                   00:00:00            nginx: worker process</span><br><span class="line">uuidd               3241                3184                0                   08:27               ?                   00:00:00            nginx: worker process</span><br><span class="line">uuidd               3242                3184                0                   08:27               ?                   00:00:00            nginx: worker process</span><br><span class="line">uuidd               3243                3184                0                   08:27               ?                   00:00:00            nginx: worker process</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<ol start="10">
<li><strong>通过宿主机与容器内部交互<code>docker exec -it 9d65 bash</code>, bash 是指与容器内部的bash进行交互</strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:29:33]</span></span><br><span class="line">$ docker ps</span><br><span class="line">CONTAINER ID   IMAGE     COMMAND                  CREATED         STATUS         PORTS     NAMES</span><br><span class="line">9d658e2f6b3a   nginx     <span class="string">&quot;/docker-entrypoint.…&quot;</span>   2 minutes ago   Up 2 minutes   80/tcp    amazing_keldysh</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:30:43]</span></span><br><span class="line">$ docker <span class="built_in">exec</span> -it 9d65</span><br><span class="line"><span class="string">&quot;docker exec&quot;</span> requires at least 2 arguments.</span><br><span class="line">See <span class="string">&#x27;docker exec --help&#x27;</span>.</span><br><span class="line"></span><br><span class="line">Usage:  docker <span class="built_in">exec</span> [OPTIONS] CONTAINER COMMAND [ARG...]</span><br><span class="line"></span><br><span class="line">Run a <span class="built_in">command</span> <span class="keyword">in</span> a running container</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:31:03] C:1</span></span><br><span class="line">$ docker <span class="built_in">exec</span> -it 9d65 bash</span><br><span class="line">root@9d658e2f6b3a:/<span class="comment"># ls</span></span><br><span class="line">bin  boot  dev	docker-entrypoint.d  docker-entrypoint.sh  etc	home  lib  media  mnt  opt  proc  root	run  sbin  srv	sys  tmp  usr  var</span><br><span class="line">root@9d658e2f6b3a:/<span class="comment"># cd tmp/</span></span><br><span class="line">root@9d658e2f6b3a:/tmp<span class="comment"># ls</span></span><br><span class="line">root@9d658e2f6b3a:/tmp<span class="comment"># exit</span></span><br><span class="line"><span class="built_in">exit</span></span><br></pre></td></tr></table></figure>





<ol start="11">
<li><strong>通过宿主机和容器交互传输文件:<code>docker cp 容器id 容器目录 宿主机目录</code></strong></li>
</ol>
<ul>
<li>先进入容器</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:32:58]</span></span><br><span class="line">$ docker <span class="built_in">exec</span> -it 9d65 bash</span><br><span class="line"></span><br><span class="line">root@9d658e2f6b3a:/<span class="comment"># ls</span></span><br><span class="line">bin  boot  dev	docker-entrypoint.d  docker-entrypoint.sh  etc	home  lib  media  mnt  opt  proc  root	run  sbin  srv	sys  tmp  usr  var</span><br><span class="line">root@9d658e2f6b3a:/<span class="comment">#</span></span><br></pre></td></tr></table></figure>



<ul>
<li>在宿主机中打开终端：</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:34:01]</span></span><br><span class="line">$ docker cp 9d658e:/docker-entrypoint.sh ./Documents</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:36:42]</span></span><br><span class="line">$ <span class="built_in">cd</span> Documents</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~/Documents [16:36:58]</span></span><br><span class="line">$ ls</span><br><span class="line">docker-entrypoint.sh</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~/Documents [16:36:58]</span></span><br><span class="line">$</span><br></pre></td></tr></table></figure>





<ol start="12">
<li><strong>查看容器的具体信息<code>docker inspect 容器id</code></strong></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:41:52]</span></span><br><span class="line">$ docker inspect 9d65</span><br><span class="line">[</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">&quot;Id&quot;</span>: <span class="string">&quot;9d658e2f6b3aa5ea7a183144b8ba80e20bc168c4428a29c4916c837235f8c5d0&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Created&quot;</span>: <span class="string">&quot;2021-12-24T08:27:59.528362054Z&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Path&quot;</span>: <span class="string">&quot;/docker-entrypoint.sh&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Args&quot;</span>: [</span><br><span class="line">            <span class="string">&quot;nginx&quot;</span>,</span><br><span class="line">            <span class="string">&quot;-g&quot;</span>,</span><br><span class="line">            <span class="string">&quot;daemon off;&quot;</span></span><br><span class="line">        ],</span><br><span class="line">        <span class="string">&quot;State&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;Status&quot;</span>: <span class="string">&quot;running&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Running&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="string">&quot;Paused&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;Restarting&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;OOMKilled&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;Dead&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;Pid&quot;</span>: 3184,</span><br><span class="line">            <span class="string">&quot;ExitCode&quot;</span>: 0,</span><br><span class="line">            <span class="string">&quot;Error&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;StartedAt&quot;</span>: <span class="string">&quot;2021-12-24T08:27:59.715617304Z&quot;</span>,</span><br><span class="line">            <span class="string">&quot;FinishedAt&quot;</span>: <span class="string">&quot;0001-01-01T00:00:00Z&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;Image&quot;</span>: <span class="string">&quot;sha256:fc16ec0c2d9106ce8da4a20e39c2a8dca83aed0f3b14ef6ae68ac91eda3a5c53&quot;</span>,</span><br><span class="line">        <span class="string">&quot;ResolvConfPath&quot;</span>: <span class="string">&quot;/var/lib/docker/containers/9d658e2f6b3aa5ea7a183144b8ba80e20bc168c4428a29c4916c837235f8c5d0/resolv.conf&quot;</span>,</span><br><span class="line">        <span class="string">&quot;HostnamePath&quot;</span>: <span class="string">&quot;/var/lib/docker/containers/9d658e2f6b3aa5ea7a183144b8ba80e20bc168c4428a29c4916c837235f8c5d0/hostname&quot;</span>,</span><br><span class="line">        <span class="string">&quot;HostsPath&quot;</span>: <span class="string">&quot;/var/lib/docker/containers/9d658e2f6b3aa5ea7a183144b8ba80e20bc168c4428a29c4916c837235f8c5d0/hosts&quot;</span>,</span><br><span class="line">        <span class="string">&quot;LogPath&quot;</span>: <span class="string">&quot;/var/lib/docker/containers/9d658e2f6b3aa5ea7a183144b8ba80e20bc168c4428a29c4916c837235f8c5d0/9d658e2f6b3aa5ea7a183144b8ba80e20bc168c4428a29c4916c837235f8c5d0-json.log&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Name&quot;</span>: <span class="string">&quot;/amazing_keldysh&quot;</span>,</span><br><span class="line">        <span class="string">&quot;RestartCount&quot;</span>: 0,</span><br><span class="line">        <span class="string">&quot;Driver&quot;</span>: <span class="string">&quot;overlay2&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Platform&quot;</span>: <span class="string">&quot;linux&quot;</span>,</span><br><span class="line">        <span class="string">&quot;MountLabel&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;ProcessLabel&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;AppArmorProfile&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;ExecIDs&quot;</span>: null,</span><br><span class="line">        <span class="string">&quot;HostConfig&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;Binds&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;ContainerIDFile&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;LogConfig&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;Type&quot;</span>: <span class="string">&quot;json-file&quot;</span>,</span><br><span class="line">                <span class="string">&quot;Config&quot;</span>: &#123;&#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">&quot;NetworkMode&quot;</span>: <span class="string">&quot;default&quot;</span>,</span><br><span class="line">            <span class="string">&quot;PortBindings&quot;</span>: &#123;&#125;,</span><br><span class="line">            <span class="string">&quot;RestartPolicy&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;Name&quot;</span>: <span class="string">&quot;no&quot;</span>,</span><br><span class="line">                <span class="string">&quot;MaximumRetryCount&quot;</span>: 0</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">&quot;AutoRemove&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;VolumeDriver&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;VolumesFrom&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;CapAdd&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;CapDrop&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;CgroupnsMode&quot;</span>: <span class="string">&quot;private&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Dns&quot;</span>: [],</span><br><span class="line">            <span class="string">&quot;DnsOptions&quot;</span>: [],</span><br><span class="line">            <span class="string">&quot;DnsSearch&quot;</span>: [],</span><br><span class="line">            <span class="string">&quot;ExtraHosts&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;GroupAdd&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;IpcMode&quot;</span>: <span class="string">&quot;private&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Cgroup&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Links&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;OomScoreAdj&quot;</span>: 0,</span><br><span class="line">            <span class="string">&quot;PidMode&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Privileged&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;PublishAllPorts&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;ReadonlyRootfs&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;SecurityOpt&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;UTSMode&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;UsernsMode&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;ShmSize&quot;</span>: 67108864,</span><br><span class="line">            <span class="string">&quot;Runtime&quot;</span>: <span class="string">&quot;runc&quot;</span>,</span><br><span class="line">            <span class="string">&quot;ConsoleSize&quot;</span>: [</span><br><span class="line">                0,</span><br><span class="line">                0</span><br><span class="line">            ],</span><br><span class="line">            <span class="string">&quot;Isolation&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;CpuShares&quot;</span>: 0,</span><br><span class="line">            <span class="string">&quot;Memory&quot;</span>: 0,</span><br><span class="line">            <span class="string">&quot;NanoCpus&quot;</span>: 0,</span><br><span class="line">            <span class="string">&quot;CgroupParent&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;BlkioWeight&quot;</span>: 0,</span><br><span class="line">            <span class="string">&quot;BlkioWeightDevice&quot;</span>: [],</span><br><span class="line">            <span class="string">&quot;BlkioDeviceReadBps&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;BlkioDeviceWriteBps&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;BlkioDeviceReadIOps&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;BlkioDeviceWriteIOps&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;CpuPeriod&quot;</span>: 0,</span><br><span class="line">            <span class="string">&quot;CpuQuota&quot;</span>: 0,</span><br><span class="line">            <span class="string">&quot;CpuRealtimePeriod&quot;</span>: 0,</span><br><span class="line">            <span class="string">&quot;CpuRealtimeRuntime&quot;</span>: 0,</span><br><span class="line">            <span class="string">&quot;CpusetCpus&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;CpusetMems&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Devices&quot;</span>: [],</span><br><span class="line">            <span class="string">&quot;DeviceCgroupRules&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;DeviceRequests&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;KernelMemory&quot;</span>: 0,</span><br><span class="line">            <span class="string">&quot;KernelMemoryTCP&quot;</span>: 0,</span><br><span class="line">            <span class="string">&quot;MemoryReservation&quot;</span>: 0,</span><br><span class="line">            <span class="string">&quot;MemorySwap&quot;</span>: 0,</span><br><span class="line">            <span class="string">&quot;MemorySwappiness&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;OomKillDisable&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;PidsLimit&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;Ulimits&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;CpuCount&quot;</span>: 0,</span><br><span class="line">            <span class="string">&quot;CpuPercent&quot;</span>: 0,</span><br><span class="line">            <span class="string">&quot;IOMaximumIOps&quot;</span>: 0,</span><br><span class="line">            <span class="string">&quot;IOMaximumBandwidth&quot;</span>: 0,</span><br><span class="line">            <span class="string">&quot;MaskedPaths&quot;</span>: [</span><br><span class="line">                <span class="string">&quot;/proc/asound&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/proc/acpi&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/proc/kcore&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/proc/keys&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/proc/latency_stats&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/proc/timer_list&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/proc/timer_stats&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/proc/sched_debug&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/proc/scsi&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/sys/firmware&quot;</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="string">&quot;ReadonlyPaths&quot;</span>: [</span><br><span class="line">                <span class="string">&quot;/proc/bus&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/proc/fs&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/proc/irq&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/proc/sys&quot;</span>,</span><br><span class="line">                <span class="string">&quot;/proc/sysrq-trigger&quot;</span></span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;GraphDriver&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;Data&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;LowerDir&quot;</span>: <span class="string">&quot;/var/lib/docker/overlay2/727ff134f4b9592947dcebe84becc1b9750b43111c24c79a0fc24fc1a2ba8448-init/diff:/var/lib/docker/overlay2/db7ed00a0d0798fc7643e647b8b1feba40139ad8adc187bf8b179895e36bfc2d/diff:/var/lib/docker/overlay2/daa5380a17e9a6576645e6e3e43d22f0c48a180eb4f9b082a2635622f8eaf1c4/diff:/var/lib/docker/overlay2/e94bd65b6f28fc525cf98a8b46c2868955b64146f1a06f92ec53f1a873672e4a/diff:/var/lib/docker/overlay2/d89f787ef1a889dd389e2d8dfd1f6649fb1a92228c64e3bfb1727ccbb9b12cfd/diff:/var/lib/docker/overlay2/a862a49ebe6ea13cee869247453fb6bac4530a2b7a2ba0b2121dc2fcaffe9914/diff:/var/lib/docker/overlay2/e3205ad528d70a3c434c1edcb9d5a9a32bd2898cfca8074d2484ffdfd6fbe1f7/diff&quot;</span>,</span><br><span class="line">                <span class="string">&quot;MergedDir&quot;</span>: <span class="string">&quot;/var/lib/docker/overlay2/727ff134f4b9592947dcebe84becc1b9750b43111c24c79a0fc24fc1a2ba8448/merged&quot;</span>,</span><br><span class="line">                <span class="string">&quot;UpperDir&quot;</span>: <span class="string">&quot;/var/lib/docker/overlay2/727ff134f4b9592947dcebe84becc1b9750b43111c24c79a0fc24fc1a2ba8448/diff&quot;</span>,</span><br><span class="line">                <span class="string">&quot;WorkDir&quot;</span>: <span class="string">&quot;/var/lib/docker/overlay2/727ff134f4b9592947dcebe84becc1b9750b43111c24c79a0fc24fc1a2ba8448/work&quot;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">&quot;Name&quot;</span>: <span class="string">&quot;overlay2&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;Mounts&quot;</span>: [],</span><br><span class="line">        <span class="string">&quot;Config&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;Hostname&quot;</span>: <span class="string">&quot;9d658e2f6b3a&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Domainname&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;User&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;AttachStdin&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;AttachStdout&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;AttachStderr&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;ExposedPorts&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;80/tcp&quot;</span>: &#123;&#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">&quot;Tty&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;OpenStdin&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;StdinOnce&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;Env&quot;</span>: [</span><br><span class="line">                <span class="string">&quot;PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&quot;</span>,</span><br><span class="line">                <span class="string">&quot;NGINX_VERSION=1.21.4&quot;</span>,</span><br><span class="line">                <span class="string">&quot;NJS_VERSION=0.7.0&quot;</span>,</span><br><span class="line">                <span class="string">&quot;PKG_RELEASE=1~bullseye&quot;</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="string">&quot;Cmd&quot;</span>: [</span><br><span class="line">                <span class="string">&quot;nginx&quot;</span>,</span><br><span class="line">                <span class="string">&quot;-g&quot;</span>,</span><br><span class="line">                <span class="string">&quot;daemon off;&quot;</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="string">&quot;Image&quot;</span>: <span class="string">&quot;nginx&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Volumes&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;WorkingDir&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Entrypoint&quot;</span>: [</span><br><span class="line">                <span class="string">&quot;/docker-entrypoint.sh&quot;</span></span><br><span class="line">            ],</span><br><span class="line">            <span class="string">&quot;OnBuild&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;Labels&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;maintainer&quot;</span>: <span class="string">&quot;NGINX Docker Maintainers \u003cdocker-maint@nginx.com\u003e&quot;</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">&quot;StopSignal&quot;</span>: <span class="string">&quot;SIGQUIT&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="string">&quot;NetworkSettings&quot;</span>: &#123;</span><br><span class="line">            <span class="string">&quot;Bridge&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;SandboxID&quot;</span>: <span class="string">&quot;fab51336f134bdc17cdc7afa8a5ffe67a09026052b3365bc4e4915e107f0ee1f&quot;</span>,</span><br><span class="line">            <span class="string">&quot;HairpinMode&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">            <span class="string">&quot;LinkLocalIPv6Address&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;LinkLocalIPv6PrefixLen&quot;</span>: 0,</span><br><span class="line">            <span class="string">&quot;Ports&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;80/tcp&quot;</span>: null</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="string">&quot;SandboxKey&quot;</span>: <span class="string">&quot;/var/run/docker/netns/fab51336f134&quot;</span>,</span><br><span class="line">            <span class="string">&quot;SecondaryIPAddresses&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;SecondaryIPv6Addresses&quot;</span>: null,</span><br><span class="line">            <span class="string">&quot;EndpointID&quot;</span>: <span class="string">&quot;4f27e36533dc2df3cec192bad98ea12c3f1dd7a289c4cf3ced291e53d4c15408&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Gateway&quot;</span>: <span class="string">&quot;172.17.0.1&quot;</span>,</span><br><span class="line">            <span class="string">&quot;GlobalIPv6Address&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;GlobalIPv6PrefixLen&quot;</span>: 0,</span><br><span class="line">            <span class="string">&quot;IPAddress&quot;</span>: <span class="string">&quot;172.17.0.2&quot;</span>,</span><br><span class="line">            <span class="string">&quot;IPPrefixLen&quot;</span>: 16,</span><br><span class="line">            <span class="string">&quot;IPv6Gateway&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="string">&quot;MacAddress&quot;</span>: <span class="string">&quot;02:42:ac:11:00:02&quot;</span>,</span><br><span class="line">            <span class="string">&quot;Networks&quot;</span>: &#123;</span><br><span class="line">                <span class="string">&quot;bridge&quot;</span>: &#123;</span><br><span class="line">                    <span class="string">&quot;IPAMConfig&quot;</span>: null,</span><br><span class="line">                    <span class="string">&quot;Links&quot;</span>: null,</span><br><span class="line">                    <span class="string">&quot;Aliases&quot;</span>: null,</span><br><span class="line">                    <span class="string">&quot;NetworkID&quot;</span>: <span class="string">&quot;ec66f3dbb3793f7390414bc7ac1b99ba93eecf5e0a31d67ff9b218dc32735638&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;EndpointID&quot;</span>: <span class="string">&quot;4f27e36533dc2df3cec192bad98ea12c3f1dd7a289c4cf3ced291e53d4c15408&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;Gateway&quot;</span>: <span class="string">&quot;172.17.0.1&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;IPAddress&quot;</span>: <span class="string">&quot;172.17.0.2&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;IPPrefixLen&quot;</span>: 16,</span><br><span class="line">                    <span class="string">&quot;IPv6Gateway&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;GlobalIPv6Address&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;GlobalIPv6PrefixLen&quot;</span>: 0,</span><br><span class="line">                    <span class="string">&quot;MacAddress&quot;</span>: <span class="string">&quot;02:42:ac:11:00:02&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;DriverOpts&quot;</span>: null</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">]</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<h2 id="数据卷Volume"><a href="#数据卷Volume" class="headerlink" title="数据卷Volume"></a>数据卷Volume</h2><p>核心作用：实现宿主机系统和容器之间的文件共享</p>
<ol>
<li>数据卷使用：<code>docker run -d -p 8081:80 --name nginx02 -v 宿主机绝对目录:容器目录 nginx</code>‘’</li>
</ol>
<p><strong>自定义数据卷名字：</strong></p>
<p>使用数据卷启动容器： -v</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:51:59] C:125</span></span><br><span class="line">$ docker run -d -p 8081:80 --name nginx02 -v /Users/shengbinbin/Documents/apps:/tmp nginx</span><br><span class="line">b692c4db292393f313c8d315c13f397387927432e3d85d49d754d9ebd2ba0657</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [16:54:14]</span></span><br><span class="line">$ docker <span class="built_in">exec</span> -it b692 bash</span><br><span class="line">root@b692c4db2923:/<span class="comment"># ls</span></span><br><span class="line">bin   dev		   docker-entrypoint.sh  home  media  opt   root  sbin	sys  usr</span><br><span class="line">boot  docker-entrypoint.d  etc			 lib   mnt    proc  run   srv	tmp  var</span><br><span class="line">root@b692c4db2923:/<span class="comment"># cd /tmp/</span></span><br><span class="line">root@b692c4db2923:/tmp<span class="comment"># ls</span></span><br><span class="line">root@b692c4db2923:/tmp<span class="comment">#</span></span><br></pre></td></tr></table></figure>



<p>在宿主机上对相应的文件夹下增加文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># shengbinbin @ binshow in ~/Documents/apps [16:49:10]</span></span><br><span class="line">$ ls</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~/Documents/apps [16:53:49]</span></span><br><span class="line">$ touch test.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~/Documents/apps [16:54:50]</span></span><br><span class="line">$ vim test.txt</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~/Documents/apps [16:55:05]</span></span><br><span class="line">$</span><br></pre></td></tr></table></figure>



<p>容器内的文件下也出现了对应的文件！</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">root@b692c4db2923:/tmp<span class="comment"># ls</span></span><br><span class="line">test.txt</span><br><span class="line">root@b692c4db2923:/tmp<span class="comment"># cat test.txt</span></span><br><span class="line">this is a <span class="built_in">test</span> text</span><br><span class="line">root@b692c4db2923:/tmp<span class="comment">#</span></span><br></pre></td></tr></table></figure>



<p>自动数据卷目录：<code>docker run -d -p 8081:80 --name nginx02 -v aa:容器目录 nginx</code>‘</p>
<p>aa代表一个数据卷名称，可以随便写，docker在不存在时会自动创建这个数据卷映射到对应的容器目录</p>
<ol start="2">
<li><strong>将容器打包成一个新的镜像：</strong><code>docker commit -m &quot;描述信息&quot; -a &quot;作者信息&quot; (容器id或名称) 打包的镜像名称：标签</code></li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [17:06:15]</span></span><br><span class="line">$ docker ps</span><br><span class="line">CONTAINER ID   IMAGE     COMMAND                  CREATED          STATUS          PORTS                  NAMES</span><br><span class="line">b692c4db2923   nginx     <span class="string">&quot;/docker-entrypoint.…&quot;</span>   14 minutes ago   Up 14 minutes   0.0.0.0:8081-&gt;80/tcp   nginx02</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [17:06:20]</span></span><br><span class="line">$ docker commit -m <span class="string">&quot;test project&quot;</span> -a <span class="string">&quot;binshow&quot;</span> b692c4db2923 test-nginx:1.0</span><br><span class="line">sha256:29011d6ee7fb8af3e094b8a16c7a3a635eab5c7694e09bbf697d36a030635e08</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [17:06:55]</span></span><br><span class="line">$ docker images</span><br><span class="line">REPOSITORY               TAG       IMAGE ID       CREATED         SIZE</span><br><span class="line">test-nginx               1.0       29011d6ee7fb   5 seconds ago   134MB</span><br><span class="line">nginx                    latest    fc16ec0c2d91   3 days ago      134MB</span><br><span class="line">docker/getting-started   latest    720f449e5af2   3 weeks ago     27.2MB</span><br><span class="line"></span><br><span class="line"><span class="comment"># shengbinbin @ binshow in ~ [17:09:57] C:1</span></span><br><span class="line">$ docker rmi test-nginx:1.0  // 删除镜像</span><br><span class="line">Untagged: test-nginx:1.0</span><br><span class="line">Deleted: sha256:29011d6ee7fb8af3e094b8a16c7a3a635eab5c7694e09bbf697d36a030635e08</span><br><span class="line">Deleted: sha256:00ff82a4177701f59e9b3d420932e657d7e9995abbe2c5162221ce8198ff4a21</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>将运行中的容器打包成一个镜像会造成短暂的服务关闭</p>
</blockquote>
<ol start="3">
<li><strong>将镜像备份：<code>docker save 镜像名称：tag -o 文件名</code></strong></li>
</ol>
<p>这样别的地方可以使用load命令将这个镜像加载出来</p>
</div><div class="article-licensing box"><div class="licensing-title"><p>Docker（二）常见命令</p><p><a href="http://example.com/2021/12/24/Docker（二）常见命令/">http://example.com/2021/12/24/Docker（二）常见命令/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>binshow</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2021-12-24</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2021-12-24</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icon" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a class="icon" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a><a class="icon" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="notification is-danger">You need to set <code>install_url</code> to use ShareThis. Please set it in <code>_config.yml</code>.</div></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" href="/" target="_blank" rel="noopener" data-type="afdian"><span class="icon is-small"><i class="fas fa-charging-station"></i></span><span>爱发电</span></a><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="/" alt="支付宝"></span></a><a class="button donate" href="/" target="_blank" rel="noopener" data-type="buymeacoffee"><span class="icon is-small"><i class="fas fa-coffee"></i></span><span>送我杯咖啡</span></a><a class="button donate" href="/" target="_blank" rel="noopener" data-type="patreon"><span class="icon is-small"><i class="fab fa-patreon"></i></span><span>Patreon</span></a><div class="notification is-danger">You forgot to set the <code>business</code> or <code>currency_code</code> for Paypal. Please set it in <code>_config.yml</code>.</div><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="/" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2021/12/24/Docker%EF%BC%88%E4%B8%89%EF%BC%89%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">Docker（三）原理解析</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2021/12/24/Docker%EF%BC%88%E4%B8%80%EF%BC%89%E5%85%A5%E9%97%A8%E4%BB%8B%E7%BB%8D/"><span class="level-item">Docker（一）入门介绍</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card"><div class="card-content"><h3 class="title is-5">评论</h3><div class="notification is-danger">You forgot to set the <code>shortname</code> for Disqus. Please set it in <code>_config.yml</code>.</div></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="binshow"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">binshow</p><p class="is-size-6 is-block">后台开发工程师</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>安徽</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">文章</p><a href="/archives"><p class="title">103</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">分类</p><a href="/categories"><p class="title">1</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">标签</p><a href="/tags"><p class="title">21</p></a></div></div></nav></div></div><!--!--><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/%E6%8A%80%E6%9C%AF/"><span class="level-start"><span class="level-item">技术</span></span><span class="level-end"><span class="level-item tag">88</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-01-02T13:31:23.000Z">2022-01-02</time></p><p class="title"><a href="/2022/01/02/Go%E6%93%8D%E4%BD%9CElasticsearch/">Go操作Elasticsearch</a></p><p class="categories"><a href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-12-30T14:21:57.000Z">2021-12-30</time></p><p class="title"><a href="/2021/12/30/Go-Learning%EF%BC%88%E5%8D%81%EF%BC%89Web/">Go_Learning（十）Web</a></p><p class="categories"><a href="/categories/%E6%8A%80%E6%9C%AF/">技术</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-12-30T14:21:42.000Z">2021-12-30</time></p><p class="title"><a href="/2021/12/30/Go-Learning%EF%BC%88%E4%B9%9D%EF%BC%89%E6%B5%8B%E8%AF%95/">Go_Learning（九）测试</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-12-24T12:21:56.000Z">2021-12-24</time></p><p class="title"><a href="/2021/12/24/Docker%EF%BC%88%E5%9B%9B%EF%BC%89%E5%B8%B8%E8%A7%81%E6%9C%8D%E5%8A%A1/">Docker（四）常见服务</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2021-12-24T12:21:43.000Z">2021-12-24</time></p><p class="title"><a href="/2021/12/24/Docker%EF%BC%88%E4%B8%89%EF%BC%89%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90/">Docker（三）原理解析</a></p></div></article></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="漫漫转码路" height="28"></a><p class="is-size-7"><span>&copy; 2022 binshow</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdnjs.loli.net/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/moment.js/2.22.2/moment-with-locales.min.js"></script><script src="https://cdnjs.loli.net/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdnjs.loli.net/ajax/libs/cookieconsent/3.1.1/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/js/lightgallery.min.js" defer></script><script src="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>